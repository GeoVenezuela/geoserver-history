<html><!-- #BeginTemplate "/Templates/main.dwt" -->
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="Rob Hranac" name="author">
<!-- #BeginEditable "doctitle" --> 
<title>the GeoServer Project :: Documentation</title>
<!-- #EndEditable --> 
<style type="text/css">
<!--
.title {  font-family: Arial, Helvetica, sans-serif; font-size: 14pt; color: #FFFFFF; font-weight: bold}
.navigation {  font-family: Arial, Helvetica, sans-serif; font-size: 12px; font-weight: bold; color: #333366}
.header { font-family: Arial, Helvetica, sans-serif; font-size: 16px; font-weight: bold; color: #333366 }
.finePrint { font-family: Arial, Helvetica, sans-serif; font-size: 9px; font-weight: lighter; color: #999999}
.navigationSub { font-family: Arial, Helvetica, sans-serif; font-size: 10pt; font-weight: normal; color: #333366 }
.titleSection { font-family: Arial, Helvetica, sans-serif; font-size: 14pt; color: #333366; font-weight: bold }
.modifyMe {  color: #FF0000}
-->
</style>
</head>
<body vlink="#333366" alink="#333366" link="#333366" text="#000000" bgcolor="#ffffff">
<table cellspacing="5" width="100%" border="0">
  <tr> 
    <td colspan="2">
      <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr> 
          <td><a href="http://geoserver.sourceforge.net"><img border="0" align="left" src="http://geoserver.sourceforge.net/html/images/logo.gif"></a></td>
          <td align="right" valign="top"><font color="#333366"><strong class="header">Documentation</strong></font></td>
        </tr>
      </table>
    </td>
  </tr>
  <tr> 
    <td colspan="2"> 
      <hr size="1" noshade>
    </td>
  </tr>
  <tr> 
    <td valign="top" width="188" height="272"> 
      <title></title>
      <table width="100%" border="0" cellspacing="0" cellpadding="0" height="100%">
        <tr>
          <td valign="top"> 
            <table cellspacing="5" border="0">
              <tr> 
                <th align="left" colspan="2" height="8"><font color="#333366"><strong class="navigation">User</strong></font></th>
              </tr>
              <tr> 
                <td width="11" align="center"></td>
                <td width="165" class="navigationSub"><font size="-1"><a href="install.htm">Install</a></font></td>
              </tr>
              <tr> 
                <td width="11" align="center"></td>
                <td width="165" class="navigationSub"><font size="-1"><a href="schemaTutorial.htm">Schema 
                  Tutorial</a></font></td>
              </tr>
	      <tr> 
                <td width="11" align="center"></td>
                <td width="165" class="navigationSub"><font size="-1"><a href="advanced.htm">Advanced</a></font></td>
              </tr>
            </table>
            <table cellspacing="5" border="0">
              <tr> 
                <th align="left" colspan="2" height="8"><font color="#333366"><strong class="navigation">Developer 
                  </strong></font></th>
              </tr>
              <tr> 
                <td width="11" align="center"></td>
                <td width="165" class="navigationSub"><font size="-1"><a href="../developer/build.htm">Build</a></font></td>
              </tr>
              <tr> 
                <td width="11" align="center" height="16"></td>
                <td width="165" height="16" class="navigationSub"><a href="../developer/testingUtility.htm">Testing 
                  Utility</a></td>
              </tr>
              <tr> 
                <td width="11" align="center" height="16"></td>
                <td width="165" height="16" class="navigationSub"><a href="../developer/license.htm">License</a></td>
              </tr>
              <tr> 
                <td width="11" align="center" height="16"></td>
                <td width="165" height="16" class="navigationSub"><font size="-1"><a href="http://geoserver.sourceforge.net/documentation/javadocs/index.html">API</a></font></td>
              </tr>
              <tr> 
                <td width="11" align="center"></td>
                <td width="165" class="navigationSub"><font size="-1"><a href="http://www.opengis.org/techno/specs/02-058.pdf">WFS 
                  Specification</a></font></td>
              </tr>
            </table>
          </td>
        </tr>
        <tr>
          <td valign="bottom"> 
            <p><span class="finePrint">Java, Servlets, J2EE, EJB, JDBC, JNDI, 
              JTA, Sun, Sun Microsystems are trademarks or registered trademarks 
              of Sun Microsystems, Inc. in the United States and in other countries. 
              XML, XML Schema, XSLT and related standards are trademarks or registered 
              trademarks of MIT, INRIA, Keio or others, and a product of the World 
              Wide Web Consortium. All other product names mentioned herein are 
              trademarks of their respective owners.</span></p>
            <p>&nbsp;</p>
          </td>
        </tr>
      </table>
      
    </td>
    <td valign="top" width="961" height="272">
<table width="100%" cellpadding="5" cellspacing="5" border="0">
        <tr> 
          <td class="titleSection"><!-- #BeginEditable "Title"  -->Feature Type 
            Schema Tutorial<!-- #EndEditable --></td>
        </tr>
      </table>
      <!-- #BeginEditable "main" --> 
      <table width="100%" cellpadding="5" cellspacing="5" border="0">
        <tr> 
          <td bgcolor="#333366" class="title">Introduction</td>
        </tr>
        <tr> 
          <td height="117"> 
            <blockquote> 
              <p>Looking for a comprehensive and accurate tutorial on XML and 
                GML schemas? &nbsp;Go somewhere else. &nbsp;This is a quick and 
                dirty guide for those who are attempting to create valid GML FeatureTypes 
                for their GeoServer installation.</p>
              <p>GeoServer currently puts the burden on you to create a correct 
                schema for each feature type. &nbsp;GeoServer will send clients 
                whatever junk that you put in <i>schema.xml</i> to describe each 
                feature type, so if the GML does not validate or is not well-formed, 
                clients will probably choke and GeoServer will report no errors 
                to you. &nbsp;Each <i>schema.xml</i> file is actually an invalid 
                chunk of XML schema that describes a FeatureType and must extend 
                off of the GML AbstractFeatureType base class.</p>
              <p>Note that all elements of this schema must be fully qualified 
                with either <i>xs</i> (for Schema Instance elements) or <i>gml</i> 
                (for Geographic Markup Language elements). &nbsp;The sole exception 
                to this is the feature type itself, which uses the namespace of the
		prefix of the featureType folder as its target namespace.  If the 
		folder does not have a prefix then it uses the default namespace.</p>
              </blockquote>
          </td>
        </tr>
      </table>
      <table width="100%" cellpadding="5" cellspacing="5" border="0" height="90">
        <tr> 
          <td bgcolor="#333366" class="title">Example Schema</td>
        </tr>
        <tr> 
          <td height="56"> 
            <blockquote> 
              <p>Here is an example schema for a feature type (boroughs) with 
                three attributes: <i>cod</i>, <i>name</i>, and <i>the_geom</i>.&nbsp;In 
                this example, <i>cod</i> and <i>name</i> are strings with a length 
                of no greater than 10 and <i>the_geom</i> is a polygon representing 
                the borough. &nbsp;The following tutorial will reference this 
                example schema fragment. &nbsp;Items that you should modify</p>
              <p>&lt;xs:complexType name=&quot;boroughs_Type&quot;&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:complexContent&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:extension base=&quot;gml:AbstractFeatureType&quot;&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:sequence&gt;<br>
                <br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:element 
                name=&quot;BOROUGHCOD&quot; nillable=&quot;true&quot; 
                minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:simpleType&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:restriction 
                base=&quot;xs:string&quot;&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:maxLength 
                value=&quot;10&quot;/&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:restriction&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:simpleType&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:element&gt;<br>
                <br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:element 
                name=&quot;BOROUGHNAM&quot; nillable=&quot;true&quot; 
                minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:simpleType&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:restriction 
                base=&quot;xs:string&quot;&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:maxLength 
                value=&quot;10&quot;/&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:restriction&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:simpleType&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:element&gt;<br>
                <br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:element 
                name=&quot;the_geom&quot; type=&quot;gml:PolygonPropertyType&quot; 
                nillable=&quot;false&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;<br>
                <br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:sequence&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:extension&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:complexContent&gt;<br>
                &lt;/xs:complexType&gt;</p>
              </blockquote>
          </td>
        </tr>
      </table>
      <table width="100%" cellpadding="5" cellspacing="5" border="0">
        <tr> 
          <td bgcolor="#333366" class="title">Feature Member</td>
        </tr>
        <tr> 
          <td height="33"> 
            <blockquote>
              <p>Note that Feature Types correspond to tables in your PostGIS 
                database and can be thought of as 'layers' in traditional GIS.</p>
              <p>Each schema must start with a complex type (no encoding string 
                or comments) . &nbsp;This type then contains complex content, 
                which must extend off of the AbstractFeatureType base class. &nbsp;Note 
                that the type name must match the feature type (i.e. table) name, 
                plus '_Type' exactly.&nbsp; Also note that you should not prepend 
                a namespace in from of the complexType name. &nbsp;Here is the 
                relevent section of the fragment, with the content that you should 
                modify in red.</p>
              <p>&lt;xs:complexType name=&quot;<span class="modifyMe">boroughs</span>_Type&quot;&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:complexContent&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:extension base=&quot;gml:AbstractFeatureType&quot;&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:sequence&gt;<br>
                <br>
              </p>
            </blockquote>
          </td>
        </tr>
      </table>
      <table width="100%" cellpadding="5" cellspacing="5" border="0">
        <tr> 
          <td bgcolor="#333366" class="title">Attributes</td>
        </tr>
        <tr> 
          <td height="78"> 
            <blockquote> 
              <p>Each column in the table is represented by an attribute. &nbsp;You 
                <b>must</b> prepend each attribute name with the name of the table/featureType 
                and a period, because GeoServer expects you to do so. &nbsp;You 
                may use any valid schema type to describe the contents of this 
                column. &nbsp;However, the maxOccurs for the element should always 
                be set to 1. &nbsp;Here is the relevent section of the fragment, 
                with the content that you should modify in red.</p>
              <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:element 
                name=&quot;<span class="modifyMe">BOROUGHCOD</span>&quot; 
                nillable=&quot;<span class="modifyMe">true</span>&quot; minOccurs=&quot;<span class="modifyMe">0</span>&quot; 
                maxOccurs=&quot;1&quot;&gt;<br>
                <span class="modifyMe">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:simpleType&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:restriction 
                base=&quot;xs:string&quot;&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:maxLength 
                value=&quot;10&quot;/&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:restriction&gt;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:simpleType&gt;</span><br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:element&gt;</p>
              </blockquote>
          </td>
        </tr>
      </table>
      <table width="100%" cellpadding="5" cellspacing="5" border="0">
        <tr> 
          <td bgcolor="#333366" class="title">Geograhic Attribute</td>
        </tr>
        <tr> 
          <td height="2"> 
            <blockquote> 
              <p>Each schema must have a single geometric attribute, which may 
                be either an OGC simple geometry or an OGC simple geometry collection. 
                Here is the relevent section of the fragment, with the content 
                that you should modify in red.</p>
              <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:element 
                name=&quot;<span class="modifyMe">the_geom</span>&quot; 
                type=&quot;gml:<span class="modifyMe">PolygonPropertyType</span>&quot; 
                nillable=&quot;false&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;</p>
              </blockquote>
          </td>
        </tr>
      </table>
      <table width="100%" cellpadding="5" cellspacing="5" border="0">
        <tr> 
          <td bgcolor="#333366" class="title">Conclusion</td>
        </tr>
        <tr> 
          <td height="45"> 
            <blockquote>This is all that you need to know to create valid GML/XML 
              schema fragments for GeoServer. &nbsp;Make sure to validate them 
              after you create them.<br>
            </blockquote>
          </td>
        </tr>
      </table>
      <!-- #EndEditable --> </td>
  </tr>
</table>
</body><!-- #EndTemplate --></html>
