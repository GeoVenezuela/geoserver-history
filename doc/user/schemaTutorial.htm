<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- #BeginTemplate "/Templates/main.dwt" -->
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="author" content="Rob Hranac">
<!-- #BeginEditable "doctitle" -->
  <title>the GeoServer Project :: Documentation</title>
<!-- #EndEditable -->
  <style type="text/css">
<!--
.title {  font-family: Arial, Helvetica, sans-serif; font-size: 14pt; color: #FFFFFF; font-weight: bold}
.navigation {  font-family: Arial, Helvetica, sans-serif; font-size: 12px; font-weight: bold; color: #333366}
.header { font-family: Arial, Helvetica, sans-serif; font-size: 16px; font-weight: bold; color: #333366 }
.finePrint { font-family: Arial, Helvetica, sans-serif; font-size: 9px; font-weight: lighter; color: #999999}
.navigationSub { font-family: Arial, Helvetica, sans-serif; font-size: 10pt; font-weight: normal; color: #333366 }
.titleSection { font-family: Arial, Helvetica, sans-serif; font-size: 14pt; color: #333366; font-weight: bold }
.modifyMe {  color: #FF0000}
-->
  </style>
</head>
<body bgcolor="#ffffff" text="#000000" link="#333366" alink="#333366"
 vlink="#333366">
<table border="0" width="100%" cellspacing="5">
  <tbody>
    <tr>
      <td colspan="2">
      <table cellpadding="0" cellspacing="0" border="0" width="100%">
        <tbody>
          <tr>
            <td><a href="http://geoserver.sourceforge.net"><img
 src="http://geoserver.sourceforge.net/html/images/logo.gif"
 align="left" border="0"></a></td>
            <td valign="top" align="right"><font color="#333366"><strong
 class="header">Documentation</strong></font></td>
          </tr>
        </tbody>
      </table>
      </td>
    </tr>
    <tr>
      <td colspan="2">
      <hr noshade="noshade" size="1"> </td>
    </tr>
    <tr>
      <td height="272" width="188" valign="top">
      <table height="100%" cellpadding="0" cellspacing="0" border="0"
 width="100%">
        <tbody>
          <tr>
            <td valign="top">
            <table border="0" cellspacing="5">
              <tbody>
                <tr>
                  <th height="8" colspan="2" align="left"><font
 color="#333366"><strong class="navigation">User</strong></font></th>
                </tr>
                <tr>
                  <td align="center" width="11"><br>
                  </td>
                  <td class="navigationSub" width="165"><font size="-1"><a
 href="install.htm">Install</a></font></td>
                </tr>
                <tr>
                  <td align="center" width="11"><br>
                  </td>
                  <td class="navigationSub" width="165"><font size="-1"><a
 href="schemaTutorial.htm">Schema Tutorial</a></font></td>
                </tr>
                <tr>
                  <td align="center" width="11"><br>
                  </td>
                  <td class="navigationSub" width="165"><font size="-1"><a
 href="advanced.htm">Advanced</a></font></td>
                </tr>
                <tr>
                  <td style="vertical-align: top;"><br>
                  </td>
                  <td style="vertical-align: top;"><font size="-1"><a
 href="wms.htm">WMS</a></font></td>
                </tr>
              </tbody>
            </table>
            <table border="0" cellspacing="5">
              <tbody>
                <tr>
                  <th height="8" colspan="2" align="left"><font
 color="#333366"><strong class="navigation">Developer </strong></font></th>
                </tr>
                <tr>
                  <td align="center" width="11"><br>
                  </td>
                  <td class="navigationSub" width="165"><font size="-1"><a
 href="../developer/build.htm">Build</a></font></td>
                </tr>
                <tr>
                  <td height="16" align="center" width="11"><br>
                  </td>
                  <td class="navigationSub" height="16" width="165"><a
 href="../developer/testingUtility.htm">Testing Utility</a></td>
                </tr>
                <tr>
                  <td height="16" align="center" width="11"><br>
                  </td>
                  <td class="navigationSub" height="16" width="165"><a
 href="../developer/license.htm">License</a></td>
                </tr>
                <tr>
                  <td height="16" align="center" width="11"><br>
                  </td>
                  <td class="navigationSub" height="16" width="165"><font
 size="-1"><a
 href="http://geoserver.sourceforge.net/documentation/javadocs/index.html">API</a></font></td>
                </tr>
                <tr>
                  <td align="center" width="11"><br>
                  </td>
                  <td class="navigationSub" width="165"><font size="-1"><a
 href="http://www.opengis.org/docs/02-058.pdf">WFS Specification</a></font></td>
                </tr>
              </tbody>
            </table>
            </td>
          </tr>
          <tr>
            <td valign="bottom">
            <p><span class="finePrint">Java, Servlets, J2EE, EJB, JDBC,
JNDI, JTA, Sun, Sun Microsystems are trademarks or registered
trademarks of Sun Microsystems, Inc. in the United States and in other
countries. XML, XML Schema, XSLT and related standards are trademarks
or registered trademarks of MIT, INRIA, Keio or others, and a product
of the World Wide Web Consortium. All other product names mentioned
herein are trademarks of their respective owners.</span></p>
            <p>&nbsp;</p>
            </td>
          </tr>
        </tbody>
      </table>
      </td>
      <td height="272" width="961" valign="top">
      <table border="0" cellspacing="5" cellpadding="5" width="100%">
        <tbody>
          <tr>
            <td class="titleSection"><!-- #BeginEditable "Title"  -->Feature
Type Schema Tutorial<!-- #EndEditable --></td>
          </tr>
        </tbody>
      </table>
<!-- #BeginEditable "main" -->
      <table border="0" cellspacing="5" cellpadding="5" width="100%">
        <tbody>
          <tr>
            <td class="title" bgcolor="#333366">Introduction</td>
          </tr>
          <tr>
            <td height="117">
            <blockquote>
              <p><span style="font-family: helvetica,arial,sans-serif;">Note:
This document should not be needed by most users, as version 1.1.0 of
GeoServer eliminates the need for the </span><span
 style="font-style: italic; font-family: helvetica,arial,sans-serif;">schema.xml</span><span
 style="font-family: helvetica,arial,sans-serif;"> files that
previously had to be written for all featureTypes.&nbsp; They are now
automatically generated.&nbsp; Some users may wish for more control
over their schemas, as the generated responses are not as precise as
they could be (though they should never be wrong).&nbsp; So this
document is kept available for backwards compatibility and for those
who wish to include schema.xml files.</span><br>
              </p>
              <p>Looking for a comprehensive and accurate tutorial on
XML and GML schemas? &nbsp;Go somewhere else. &nbsp;This is a quick and
dirty guide for those who are attempting to create valid GML
FeatureTypes for their GeoServer installation.</p>
              <p>GeoServer currently puts the burden on you to create a
correct schema for each feature type if you wish to include a <span
 style="font-style: italic;">schema.xml</span> file for your
featureType (if not then the response will be generated automatically).
&nbsp;GeoServer will send clients whatever junk that you put in <i>schema.xml</i>
to describe each feature type, so if the GML does not validate or is
not well-formed, clients will probably choke and GeoServer will report
no errors to you. &nbsp;Each <i>schema.xml</i> file is actually an
invalid chunk of XML schema that describes a FeatureType and must
extend off of the GML AbstractFeatureType base class.</p>
              <p>Note that all elements of this schema must be fully
qualified with either <i>xs</i> (for Schema Instance elements) or <i>gml</i>
(for Geographic Markup Language elements). &nbsp;The sole exception to
this is the feature type itself, which uses the namespace of the prefix
of the featureType folder as its target namespace. If the folder does
not have a prefix then it uses the default namespace.</p>
            </blockquote>
            </td>
          </tr>
        </tbody>
      </table>
      <table height="90" border="0" cellspacing="5" cellpadding="5"
 width="100%">
        <tbody>
          <tr>
            <td class="title" bgcolor="#333366">Example Schema</td>
          </tr>
          <tr>
            <td height="56">
            <blockquote>
              <p>Here is an example schema for a feature type
(boroughs) with three attributes: <i>cod</i>, <i>name</i>, and <i>the_geom</i>.&nbsp;In
this example, <i>cod</i> and <i>name</i> are strings with a length of
no greater than 10 and <i>the_geom</i> is a polygon representing the
borough. &nbsp;The following tutorial will reference this example
schema fragment. &nbsp;Items that you should modify</p>
              <p>&lt;xs:complexType name="boroughs_Type"&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:complexContent&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:extension
base="gml:AbstractFeatureType"&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:sequence&gt;<br>
              <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:element
name="BOROUGHCOD" nillable="true" minOccurs="0" maxOccurs="1"&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:simpleType&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:restriction
base="xs:string"&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:maxLength
value="10"/&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:restriction&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:simpleType&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:element&gt;<br>
              <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:element
name="BOROUGHNAM" nillable="true" minOccurs="0" maxOccurs="1"&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:simpleType&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:restriction
base="xs:string"&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:maxLength
value="10"/&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:restriction&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:simpleType&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:element&gt;<br>
              <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:element
name="the_geom" type="gml:PolygonPropertyType" nillable="false"
minOccurs="1" maxOccurs="1"/&gt;<br>
              <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:sequence&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:extension&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:complexContent&gt;<br>
&lt;/xs:complexType&gt;</p>
            </blockquote>
            </td>
          </tr>
        </tbody>
      </table>
      <table border="0" cellspacing="5" cellpadding="5" width="100%">
        <tbody>
          <tr>
            <td class="title" bgcolor="#333366">Feature Member</td>
          </tr>
          <tr>
            <td height="33">
            <blockquote>
              <p>Note that Feature Types correspond to tables in your
PostGIS database and can be thought of as 'layers' in traditional GIS.</p>
              <p>Each schema must start with a complex type (no
encoding string or comments) . &nbsp;This type then contains complex
content, which must extend off of the AbstractFeatureType base class.
&nbsp;Note that the type name must match the feature type (i.e. table)
name, plus '_Type' exactly.&nbsp; Also note that you should not prepend
a namespace in from of the complexType name. &nbsp;Here is the relevent
section of the fragment, with the content that you should modify in red.</p>
              <p>&lt;xs:complexType name="<span class="modifyMe">boroughs</span>_Type"&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:complexContent&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:extension
base="gml:AbstractFeatureType"&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:sequence&gt;<br>
              <br>
              </p>
            </blockquote>
            </td>
          </tr>
        </tbody>
      </table>
      <table border="0" cellspacing="5" cellpadding="5" width="100%">
        <tbody>
          <tr>
            <td class="title" bgcolor="#333366">Attributes</td>
          </tr>
          <tr>
            <td height="78">
            <blockquote>
              <p>Each column in the table is represented by an
attribute. &nbsp;You <b>must</b> prepend each attribute name with the
name of the table/featureType and a period, because GeoServer expects
you to do so. &nbsp;You may use any valid schema type to describe the
contents of this column. &nbsp;However, the maxOccurs for the element
should always be set to 1. &nbsp;Here is the relevent section of the
fragment, with the content that you should modify in red.</p>
              <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:element
name="<span class="modifyMe">BOROUGHCOD</span>" nillable="<span
 class="modifyMe">true</span>" minOccurs="<span class="modifyMe">0</span>"
maxOccurs="1"&gt;<br>
              <span class="modifyMe">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:simpleType&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:restriction
base="xs:string"&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:maxLength
value="10"/&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:restriction&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:simpleType&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:element&gt;</p>
            </blockquote>
            </td>
          </tr>
        </tbody>
      </table>
      <table border="0" cellspacing="5" cellpadding="5" width="100%">
        <tbody>
          <tr>
            <td class="title" bgcolor="#333366">Geograhic Attribute</td>
          </tr>
          <tr>
            <td height="2">
            <blockquote>
              <p>Each schema must have a single geometric attribute,
which may be either an OGC simple geometry or an OGC simple geometry
collection. Here is the relevent section of the fragment, with the
content that you should modify in red.</p>
              <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:element
name="<span class="modifyMe">the_geom</span>" type="gml:<span
 class="modifyMe">PolygonPropertyType</span>" nillable="false"
minOccurs="1" maxOccurs="1"/&gt;</p>
            </blockquote>
            </td>
          </tr>
        </tbody>
      </table>
      <table border="0" cellspacing="5" cellpadding="5" width="100%">
        <tbody>
          <tr>
            <td class="title" bgcolor="#333366">Conclusion</td>
          </tr>
          <tr>
            <td height="45">
            <blockquote>This is all that you need to know to create
valid GML/XML schema fragments for GeoServer. &nbsp;Make sure to
validate them after you create them.<br>
            </blockquote>
            </td>
          </tr>
        </tbody>
      </table>
<!-- #EndEditable --> </td>
    </tr>
  </tbody>
</table>
<!-- #EndTemplate -->
</body>
</html>
