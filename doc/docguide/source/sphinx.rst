.. _sphinx:

Sphinx Syntax
=============

This page contains syntax rules, tips, and tricks for using Sphinx and reStructuredText.  For more information, please see this  `comprehensive guide to reStructuredText <http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html>`_, as well as the `Sphinx reStructuredText Primer <http://sphinx.pocoo.org/rest.html>`_.

Basics
------

A reStructuredText document is written in plain text.  Without the need for complex formatting, one can be composed simply, just like one would any plain text document.  For basic formatting, see this table:


.. list-table::
   :widths: 30 40 30

   * - **Format**
     - **Syntax**
     - **Output**
   * - Italics
     - ``*italics*`` (single asterisk)
     - *italics*
   * - Bold
     - ``**bold**`` (double asterisk)
     - **bold**
   * - Monospace
     - `` ``monospace`` `` (double backquote)
     - ``monospace``

Lists
-----

There are two types of lists, bulleted lists and numbered lists.  A **bulleted list** looks like this:

* An item
* Another item
* Yet another item

This is accomplished by the following code::

   * An item
   * Another item
   * Yet another item

A **numbered list** looks like this:

#. First item
#. Second item
#. Third item

It is accomplished with with the following code::

   #. First item
   #. Second item
   #. Third item

Note that numbers are automatically generated, making it easy to add/remove items.   

  
List-Tables
-----------

Bulleted lists can sometimes be cumbersome and hard to follow.  When dealing with a long list of items, **use list-tables**.  For example, to talk about a list of options, create a table that looks like this:

.. list-table::
   :widths: 20 80
   
   * - **Shapes**
     - **Description**
   * - Square
     - Four sides of equal length, 90 degree angles
   * - Rectangle
     - Four sides, 90 degree angles
    
This is done with the following code::

   .. list-table::
      :widths: 20 80
      
      * - **Shapes**
        - **Description**
      * - Square
        - Four sides of equal length, 90 degree angles
      * - Rectangle
        - Four sides, 90 degree angles
        
Page Labels
-----------

**Ensure every page has a label that matches the name of the file.** For example if the page is named ``foo_bar.rst`` then the page should have the label::

   ..  _foo_bar:
  
Other pages can then link to that page by using the following code::

   :ref:`foo_bar`
  

Headings
--------

**Use headings to break up long pages** and to help Sphinx auto-generate tables of contents.

The top of the page (i.e. the title) should have a double underline::

   Camel Spotting
   ==============
   
Subsequent section headers should have a single underline::

   Camel Spotting
   ==============

   Intro to the Camel
   ------------------
   
   Finding a Camel
   ---------------
   
   Recording its Serial Number
   ---------------------------
   
Should these sections require subsections, use the back quote::

   Intro to the Camel
   ------------------
   
   Camel History
   `````````````
   
   Camels Today
   ````````````

.. _style_linking:
   
Linking
-------

Links to other pages should never be titled as "here".  The link should be more informative.  Luckily, Sphinx makes this easy by automatically inserting the title of the linked document.

Bad
   More information about linking can be found :ref:`here <style_linking>`.
Good
   For more information, please see the section on :ref:`style_linking`.

To insert a link to another part of the documentation, the syntax is::

   :ref:`[label]`

where ``[label]`` is the label you wish to link to.

To insert a link to an external website, the syntax is::

   `Text of the link <http://example.com>`_

The resulting link would look like this: `Text of the link <http://example.com>`_


Notes and Warnings
------------------

Sometimes it is beneficial to have a section of text stand out from the rest.  Sphinx has two such stand out boxes, the **note** and the **warning**.  They function identically, but have slightly different theming.

Here is an example of a note:

.. note:: This is a note.

This note is generated with the following code::

   .. note:: This is a note.
   
Similarly, here is an example of a warning:

.. warning:: Beware of dragons.

This warning is generated by the following code::

   .. warning:: Beware of dragons.
   
You should **use notes and warnings sparingly**, however, as adding emphasis to everything is the same as adding emphasis to nothing. 

   
Images
------

**Add images to your documentation**.  Images, such as screenshots, are a very helpful way of making documentation understandable.  When making screenshots, try to crop out unnecessary content (browser window, desktop, etc).  Avoid scaling the graphic if possible.  It is also helpful to include a caption underneath the image.

.. figure:: pagelogo.png
   :align: center
   
   *The GeoServer logo as shown on the homepage.*
   
This image is generated by the foollowing code::

   .. figure:: pagelogo.png
      :align: center
   
      *The GeoServer logo as shown on the homepage.*

In this example, the image file exists in the same directory as the source page.  If this is not the case, you can insert path information in the above command.


Show Source
-----------

Every page in the GeoServer documentation has a link for ``Show Source`` under the Table of Contents on the right side of the page.  This allows for easy reverse engineering of unfamiliar markup.
        