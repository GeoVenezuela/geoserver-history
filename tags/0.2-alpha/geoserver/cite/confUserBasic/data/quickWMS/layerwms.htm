<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<title>quickWMS - layerWMS class</title>
</head>

<body>
<link rel="stylesheet" href="help.css">
<table width="700"><tr><td>
<!-- WEBpage Information -->
<tr><td align="justify">

<img src="images/logo.gif" width=62 height=64 border=0 alt="" align="middle">
 &nbsp;&nbsp;<a href="index.htm"><img src="images/quickWMS.gif" width=121 height=23 border=0 alt=""></a>
<div align="right">
&copy; Pedro Pereira Gon&ccedil;alves <br>(<a href="mailto:pedro&#064;inovagis.org">pedro&#064;inovagis.org</a>)<BR>
</div>

<hr noshade>
</td></tr><tr><td>
<b>Version</b> : 0.3 <br>
<b>Last Change </b>: 2003-10-27<br>
<b>File Name</b> : WMSlayer.js
<br><br>
<font face="" size="+1" color="Maroon">layerWMS</font> <ul> Image-type class that makes a single request and OGC WMS server with one or more layers.<br>
	<br><b>create method</b>: <span class="js_bluebold">function</span> layerWMS(parent, url, layer, caption, version)<br><br>
	Creates the layerWMS class that defines the WMS layer properties and methods according to the OpenGIS specification, 
	where the parameters are:<UL>
	<li> parent - class defining the control where the layer will be integrated can be null or an instant of mapWMS and its descendents
	<li> url - server url (without the http)
	<li> layer - layer name or names 
	<li> caption - optional parameter for future use on legends and display box
	<li> version - optional parameter defining the wms version (default value is "1.1")
	</ul>
	<br><font face="" color="Maroon"><b>Methods</b></font>
		<ul>
			<li><b>url</b> = <span class="js_bluebold">function</span> (BBox)<br>
			returns the OGC WMS compliant url for this request. 
			The BBox is optional parameter. When null and this class parent is a mapWMS (or any of its descendents) 
			his own BBox value will be used<br><br>
			<li><b>writeDOM</b> = <span class="js_bluebold">function</span> (name, left, top, width, height, style)<br>
			Writes the necessary DHTML for this class (to-do still needs implement the style tag) <br><br>
			<li><b>refresh</b> = <span class="js_bluebold">function</span> (BBox) <br>
			Updates the image HTML element with a new request (updating any changes made to the class)
			<br><br>
			<li><b>show</b> = <span class="js_bluebold">function</span> () - <i>not fully implemented</i> <br><br>
			<li><b>hide</b> = <span class="js_bluebold">function</span> () - <i>not fully implemented</i> <br><br>
			<li><b>isVisible</b> = <span class="js_bluebold">function</span> ()	- <i>not fully implemented</i> <br><br>
		</ul>
	<br><font face="" color="Maroon"><b>Properties</b></font>
		<ul>
			<li> <b>parent</b> : class defining the control where the layer will be integrated can be null or an instant of mapWMS and its descendents
			<br><br><li> <b>srs</b> : defines the spatial reference system of the request (default value is "EPSG:4326" or the parent's value if different than null)
			<br><br><li> <b>wmsUrl</b> : Url of the server (without the http)
			<br><br><li> <b>wmsLayers</b> : string defining the layer name or names;
			<br><br><li> <b>caption</b> :  string defining the caption to be used in future implementations for the legend and configuration object
			<br><br><li> <b>format</b> : (default value is "GIF")
			<br><br><li> <b>opacity</b> : <i>not fully implemented</i>
			<br><br><li> <b>styles</b> : string defining the layer(s) style(s) (default value is "")
			<br><br><li> <b>additionalParam</b> : additional or vendor specific parameters to add to the url (default value is "")
			<br><br><li> <b>visible</b> : boolean value defining the objects visibility (default value is "true")
			<br><br><li> <b>version</b> : WMS version to be used to this request
			<br><br><li> <b>request</b> : string that defines the url parameters of the WMS that are version-dependent (e.g. WMTVER and REQUEST)
			<br><br><li> <b>DOMref</b> : reference to the image DOM object that is created on the writeDOM method.
 			<br><br><li><b>directLoading</b> :
			Added the option to select direct loading without using the transport image 
            by default is false in all browsers except in IE 6 (because this browsers will always recall the image even if it has an object in memory)


		</ul>
	<br><font face="" color="Maroon"><b>Events</b></font>
		<ul>
			<li> <b>onError</b> = function ( wmsLayer ) : event launched when a http connection error occurs
		</ul>	
	<br><font face="" color="Maroon"><b>Examples</b></font>
		<ul>
			<LI> single layer request example [<a href="layer001.htm">view</a>]
		</ul>	
	<br><a name="log"><font face="" style="text-decoration: none" color="Maroon"><b>Change Log</b></font></a> 
		<ul>
			<li>2003-10-27 : When in directLoading mode the image source is first cleared using the 
                          empty_img and only then goes to the wms url (once again thanks to Bart)
<li>	2003-10-24 : Added the option to select direct loading without using the transport image 
                          by default is false in all browsers except in IE 6 (because this browsers will always recall the image even if it has a object in memory)
<li>	2003-10-10 : In url function forces the use of the BBox input parameter if exists
<li>	2003-09-09 : Change the add layer method so that accepts relative urls  (*)
<li>	2003-06-25 : Documentation added
<li>    2003-04-28 : writeDOM method added to layerWMS
                          added the onerror event
		</ul>
	<br>

<hr noshade>
</ul>
</td></tr></table>

</body>
</html>
